{% load verbatim %}
{% verbatim %}

<div>
	<ul class="nav nav-tabs">
		<li ng-class="{active: urlTab == 'bm'}"><a href="#/dataset/{{datasetId}}/tab/bm/bm/">AI-BM</a></li>
		<li ng-class="{active: urlTab == 'id'}"><a href="#/dataset/{{datasetId}}/tab/id/id/">AI-ID</a></li>
		<li ng-class="{active: urlTab == 'logic'}"><a href="#/dataset/{{datasetId}}/tab/logic/logic/">Logic</a></li>
	</ul>
</div>

<br />

<div class="table-responsive id-table">
	<table class="table table-bordered table-hover table-condensed">
		<tr>
			<th colspan="4" rowspan="4">Radiation source</th>
			<th colspan="15">NSLS II Active Interlock Envelope (AIE)</th>
			<th colspan="9">AI EPS & Logic for e-beam within the phase space of AIE-ID (dumped otherwise)</th>
			<th rowspan="6"></th>
		</tr>
		<tr>
			<th colspan="15">AIE-ID</th>
			<th colspan="4">Horizontal</th>
			<th colspan="4">Vertical</th>
			<th rowspan="3"></th>
		</tr>
		<tr>
			<th colspan="3" rowspan="2"></th>
			<th colspan="9">Lattice</th>
			<th colspan="3" rowspan="2"></th>
			<th colspan="1" rowspan="2">BPM-ID1 (s1)</th>
			<th colspan="1" rowspan="2">BPM-ID2 (s2)</th>
			<th colspan="2" rowspan="2">E-beam (s3)</th>
			<th colspan="1" rowspan="2">BPM-ID1 (s1)</th>
			<th colspan="1" rowspan="2">BPM-ID2 (s2)</th>
			<th colspan="2" rowspan="2">E-beam (s3)</th>
		</tr>
		<tr>
			<th colspan="3">BPM-ID1 (s1)</th>
			<th colspan="3">BPM-ID2 (s2)</th>
			<th colspan="3">E-beam (s3)</th>
		</tr>
		<tr>
			<th>Cell</th>
			<th>Type</th>
			<th>Set</th>
			<th>Str. sect.</th>
			<th>AIE Name</th>
			<th>Shape</th>
			<th>Defined by</th>

			<th>Name</th>
			<th>Position (s1)<br/>
				<i ng-class="(orderByField == 's1_pos' && reverseSort == false) ? 'sort_button_active' : 'sort_button'" ng-click="orderByField='s1_pos'; reverseSort = false" class="glyphicon glyphicon-chevron-up"></i>
				<i ng-class="(orderByField == 's1_pos' && reverseSort == true) ? 'sort_button_active' : 'sort_button'" ng-click="orderByField='s1_pos'; reverseSort = true" class="glyphicon glyphicon-chevron-down"></i></th>
			<th>Position from AIE-ID location</th>

			<th>Name</th>
			<th>Position (s2)<br/>
				<i ng-class="(orderByField == 's2_pos' && reverseSort == false) ? 'sort_button_active' : 'sort_button'" ng-click="orderByField='s2_pos'; reverseSort = false" class="glyphicon glyphicon-chevron-up"></i>
				<i ng-class="(orderByField == 's2_pos' && reverseSort == true) ? 'sort_button_active' : 'sort_button'" ng-click="orderByField='s2_pos'; reverseSort = true" class="glyphicon glyphicon-chevron-down"></i></th>
			<th>Position from AIE-ID location</th>

			<th>Name</th>
			<th>Position (s3)<br/>
				<i ng-class="(orderByField == 's3_pos' && reverseSort == false) ? 'sort_button_active' : 'sort_button'" ng-click="orderByField='s3_pos'; reverseSort = false" class="glyphicon glyphicon-chevron-up"></i>
				<i ng-class="(orderByField == 's3_pos' && reverseSort == true) ? 'sort_button_active' : 'sort_button'" ng-click="orderByField='s3_pos'; reverseSort = true" class="glyphicon glyphicon-chevron-down"></i></th>
			<th>Pos. from cent. Str. Sect.</th>
			
			<th>Max. offset</th>
			<th>Max. angle</th>
			<th>Extra offset</th>

			<th>Offset (AIOLH)</th>
			<th>Offset (AIOLH)</th>
			<th>Offset (AIOLH)</th>
			<th>Angle (AIALH)</th>
			
			<th>Offset (AIOLV)</th>
			<th>Offset (AIOLV)</th>
			<th>Offset (AIOLV)</th>
			<th>Angle (AIOLV)</th>
			<th>Safe current</th>
		</tr>
		<tr>
			<th></th>
			<th></th>
			<th></th>
			<th></th>
			<th></th>
			<th></th>
			<th></th>

			<th></th>
			<th>m</th>
			<th>m</th>

			<th></th>
			<th>m</th>
			<th>m</th>

			<th></th>
			<th>m</th>
			<th>m</th>
			
			<th>mm</th>
			<th>mrad</th>
			<th></th>

			<th>mm</th>
			<th>mm</th>
			<th>mm</th>
			<th>mrad</th>

			<th>mm</th>
			<th>mm</th>
			<th>mm</th>
			<th>mrad</th>
			<th>mA</th>
		</tr>

		<tbody>

		<tr ng-if="true" ng-repeat="id in idArr|orderBy:orderByField:reverseSort">
			<td ng-repeat="prop in id.save_display">
				{{id[prop] || '&nbsp;'}}
			</td>
			<td></td>
		</tr>

		</tbody>

	</table>
</div>

{% endverbatim %}